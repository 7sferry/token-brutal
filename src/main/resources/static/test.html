<!--~~~~~~~~~~~~~~~~~~~~~
  ~ Made by [MR Ferryâ„¢] ~
  ~ on November 2025    ~
  ~~~~~~~~~~~~~~~~~~~~~-->
<!DOCTYPE html>
<html lang="id">
<head>
	<title>JWT Cookie Demo</title>
</head>
<body>
<h2>Login</h2>
<label for="username"></label><input id="username" placeholder="Username"/>
<label for="password"></label><input id="password" type="password" placeholder="Password"/>
<button onclick="login()">Login</button>

<h2>Profile</h2>
<button onclick="getProfile()">Get Profile</button>

<p id="output"></p>

<script>
	const apiProfile = 'http://localhost:8888';
	async function login() {
		const res = await fetch(`${apiProfile}/api/auth/login`, {
			method: 'POST',
			headers: { 'Content-Type': 'application/json' },
			body: JSON.stringify({
				username: document.getElementById('username').value,
				password: document.getElementById('password').value
			}),
			credentials: 'include' // IMPORTANT: send/receive cookies
		});

		document.getElementById('output').innerText = await res.text();
	}


	async function getProfile() {
		const res = await fetch(`${apiProfile}/api/profile`, {
			method: 'GET',
			credentials: 'include' // automatically sends cookie
		});
		document.getElementById('output').innerText = await res.text();
	}
</script>
</body>
</html>
